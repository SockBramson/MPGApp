<num_input>:
    # These are attributes of the class num_input now.
    miles: _miles
    gallons: _gallons
    mpg: _mpg
    avgmpg: _avgmpg
    BoxLayout:
        orientation: 'horizontal'
        size_hint: .2, 1
        AnchorLayout:
            anchor_x: 'left'
            #anchor_y: 'top'
            BoxLayout:
                orientation: 'vertical'
                #size_hint: .2, 1
                Button:
                    text: 'Input'
                    on_press: _screen_manager.current = 'screen1'
                Button:
                    text: 'History'
                    on_press: _screen_manager.current = 'screen2'
                Button:
                    text: 'Graph'
                    on_press: _screen_manager.current = 'screen3'
    ScreenManager:
        id: _screen_manager
        Screen:
            name: 'screen1'
            BoxLayout:
                padding: 5
                orientation: 'vertical'
                Label:
                    font_size: '20dp'
                    text: 'Lifetime average: '
                    #valign: 'top'
                Label:
                    id: _avgmpg
                    font_size: '30dp'
                    text: '_avgmpg '
                    #valign: 'top' 
                GridLayout:
                    spacing: 5
                    cols: 2
                    size_hint: 1, .2
                    TextInput:
                        id: _miles
                        focus: True
                        hint_text: 'Enter mileage'
                    TextInput:
                        id: _gallons
                        hint_text: 'Enter gallons'
                    #Button:
                    #    text: 'Direct'
                        # You can do the operation directly
                    #    on_press: _mpg.text = str(float(_miles.text) / float(_gallons.text))
                Button:
                    size_hint: .2, .2
                    #valign: 'middle'
                    text: 'Calculate'
                    # Or you can call a method from the root class (instance of num_input)
                    on_press: root.mpgs(*args)
                    # on_release is necessary because mpg won't be calculated yet.
                    on_release: app.dbstore(_miles.text, _gallons.text, _mpg.text)
                Label:
                    id: _mpg
                    font_size: '20dp'
        Screen:
            name: 'screen2'
            GridLayout:
                size_hint: 1, .1
                cols: 4
                padding: 2
                # Use buttons to make columns sortable.
                Button:
                    text: 'Date'
                    valign: 'middle'
                Button:
                    text: 'Miles'
                    valign: 'middle'
                Button:
                    text: 'Gallons'
                    valign: 'middle'
                Button:
                    text: 'MPGs'
                    valign: 'middle'
                Label:
                    text: 'today'
                    valign: 'middle'
                Label:
                    text: '236.90'
                    valign: 'middle'
                Label:
                    text: '9.526'
                    valign: 'middle'
                Label:
                    text: '25.258'
                    valign: 'middle'
                              

        Screen:
            name: 'screen3'
            Label:
                text: 'Graph'



